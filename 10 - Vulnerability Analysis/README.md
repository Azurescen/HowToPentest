# Testing
Vulnerability testing is the process of discovering flaws in systems and applications which can be leveraged by an attacker. These flaws can range anywhere from host and service misconfiguration, or insecure application design.

# Active
Active testing involves direct interaction with the component being tested for security vulnerabilities. This could be low level components such as the TCP stack on a network device, or it could be components higher up on the stack such as the web based interface used to administer such a device.

## Network/General Vulnerability Scanners
An automated port based scan is generally one of the first steps in a traditional penetration test because it helps obtain a basic overview of what may be available on the target network or host.

- Tools to use:
    - Nessus Essentials: https://www.tenable.com/products/nessus/nessus-essentials
    - Nexpose Community Edition: https://www.rapid7.com/info/nexpose-community
    - OpenVAS: https://www.openvas.org
    - Qualys Community Edition: https://www.qualys.com/community-edition

It is to be noted that a traditional port scanner will most likely be detected by an IDS/IPS. A good way to bypass this is to look like normal traffic, so instead of scanning every port, trying to connect to more common ports will generate less security alerts. An example is manually attempting to SSH to a host on port 22 and trying to see if a connection is recevied.

Closed port UDP vs TCP response:
- Closed UDP port response: RFC 768 for UDP does not specify any action on a closed port but the ICMP RFC 792 specifies a message Type 3 Code 3 (Destinaion Unreachable)
- Closed TCP port response: RST packet response

Filtered vs Non-Filtered:
- Closed ports only send packets back saying the port is closed if they are unfiltered
- Filtered connections do not reply to closed port requests at all and simply drop the packet

## Web Application Scanners
Most web application scans start with the address of a website, web application, or web service. The scanner then crawls the site by following links and directory structures. After compiling a list of webpages, resources, services and/or other media offered, the scanner will perform tests, or audits against the results of the crawl.

# Passive
## Metadata Analysis
Metadata analysis involves looking at data that describes a file, as opposed to the file data itself. A Microsoft Office document for example, might list the document author, company, when the document was last saved, when the document was created, and so on.

## Traffic Monitoring
Traffic monitoring is the concept of connecting to an internal network and capturing data for offline analysis. Route poisoning is excluded from this phase as these create “noise” on the network and can easily be detected. It is often surprising how much sensitive data can be gleaned from a “switched” network. This “leaking of data” onto a switched network can be categorized as follows:
- ARP/MAC cache overflow, causing switched packets to be broadcast - this is common on Cisco switches that have improper ARP/MAC cache timing configurations.
- Etherleak - some older network drivers and some embedded drivers will use data from system memory to pad ARP packets. If enough ARP packets can be collected, sensitive information from internal memory can be captured
- Misconfigured clusters or load balancers
- Hubs plugged into the network Note that some of these categories only result in data leakage to a single subnet, while others can result in leakage to much larger network segments.

# References
http://www.pentest-standard.org/index.php/Vulnerability_Analysis